"use strict";function getNewsListAjax(s,t,e){$(".news-list-tab-box ul").empty(),$.ajax({url:"http://192.168.100.250/article/getArticles/"+s+"/"+t+"/"+e,type:"GET",success:function(t){var a="";$.each(t.list,function(t,e){var i=e.articleText.replace(/<\/?.+?>/g,"").replace(/(^\s+)|(\s+$)/g,"").replace(/\s/g,"");i=i.length<170?i:i.substring(0,170).trim().concat("..."),a+='<li class="news-list-details">\n                            <div class="news-list-left">\n                                <a href="news-view.html?newsListId='+s+"&articleId="+e.articleId+'"><img src="'+e.articleImg.articleImgSrc+'" alt="'+e.articleImg.articleImgAlt+'"></a>\n                            </div>\n                            <div class="news-list-right">\n                                <div class="news-list-title">\n                                    <a href="news-view.html?newsListId='+s+"&articleId="+e.articleId+'">'+e.articleName+'</a>\n                                </div>\n                                <div class="news-list-desc">'+i+'</div>\n                                <div class="news-list-bottom">\n                                    <div class="news-list-tag-box">\n                                        <div class="news-list-tag"><a href="javascript:viod(0);">'+e.labelList[0].articleLabelName+'</a></div>\n                                        <div class="news-list-tag"><a href="javascript:viod(0);">'+e.labelList[1].articleLabelName+'</a></div>\n                                    </div>\n                                    <div class="news-list-time">\n                                        <p>'+e.articleAddTime+"</p>\n                                    </div>\n                                </div>\n                            </div>\n                       </li>"}),$(".news-list-tab-box ul").append(a)}})}$.ajax({url:"http://192.168.100.250/articleCategory/getAll",type:"GET",success:function(t){t.forEach(function(t,e,i){var a="<li data-id="+t.articleCategoryId+' class="news-list-kind"><a href="news-list.html?newsListId='+t.articleCategoryId+'">'+t.articleCategoryName+"</a></li>";$(".news-list-nav").append(a)});var a=$.getUrlParam("newsListId");$(".news-list-nav").children("li").eq(a-1).addClass("active"),$.ajax({url:"http://192.168.100.250/article/getArticles/"+a+"/1/8",type:"GET",success:function(t){var e=t.total,i=Math.ceil(e/8);$(".news-list-pagination-box").pagination({mode:"fixed",coping:!0,homePage:"<<",endPage:">>",pageCount:i,jump:!1,callback:function(t){var e=t.getCurrent();getNewsListAjax(a,e,8)}},function(){getNewsListAjax(a,1,8)})},error:function(t){alert("请求错误！")}})},error:function(t){alert("请求错误！")}}),function(){var s=$.getUrlParam("newsListId");$.ajax({url:"http://192.168.100.250/article/getRecommendsByCategoryId/"+s+"/8",type:"GET",success:function(t){t.forEach(function(t,e,i){var a='<li class="recom-article-list">\n                        <div class="recom-article-list-title">\n                            <a href="news-view.html?newsListId='+s+"&articleId="+t.articleId+'">'+t.articleName+"</a>\n                        </div>\n                    </li>";e<4?$(".recom-article-left ul").append(a):$(".recom-article-right ul").append(a)})}})}(),function(){$.getUrlParam("newsListId");$.ajax({url:"http://192.168.100.250/product/getProRandom/5",type:"GET",success:function(t){t.forEach(function(t,e,i){var a='<li class="recom-products-list">\n                        <div class="recom-products-list-img">\n                            <a href="prod-view.html?typeId='+t.proPositionId+"&Id="+t.proTypeId+"&fid="+t.proId+'"><img src="'+t.proImgs[0].proImgSrc+'" alt="'+t.proImgs[0].proImgAlt+'"></a>\n                        </div>\n                        <div class="recom-products-list-title">\n                            <a href="prod-view.html?typeId='+t.proPositionId+"&Id="+t.proTypeId+"&fid="+t.proId+'">'+t.proName+"</a>\n                        </div>\n                    </li>";$(".recom-products-list-box ul").append(a)})}})}();
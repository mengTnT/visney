"use strict";!function(){var l=$.getUrlParam("typeId"),p=$.getUrlParam("Id"),e=$.getUrlParam("fid");$.ajax({url:"http://192.168.100.250/proCategory/showAll/main",type:"GET",success:function(t){for(var i=t[l-1].children,r=i.length,o=0;o<r;o++)if(i[o].proCategoryId==p)var n=i[o].proCategoryName;var a='<a href="products.html?typeId='+l+'">'+t[l-1].proCategoryName+"</a>",s='<a href="prod-list.html?typeId='+l+"&Id="+p+'">'+n+"</a>",d='<a href="products.html?typeId='+l+"&Id="+p+"&fid="+e+'">'+t[l-1].proCategoryName+"</a>";$(".brand-nav-list ul li.brand-nav-prod-list").html(a),$(".brand-nav-list ul li.brand-nav-prod-style").html(s),$(".brand-nav-list ul li.brand-nav-prod-view").html(d)}})}(),function(){$.getUrlParam("typeId"),$.getUrlParam("Id");var t=$.getUrlParam("fid");$.ajax({url:"http://192.168.100.250/product/detail/"+t,type:"GET",success:function(t){t.proImgs.forEach(function(t,i,r){var o='<li>\n\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src="'+t.proImgSrc+'" alt="'+t.proImgAlt+'">\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>';$("#SmallPicList ul").append(o)});var i=t.param;$.each(i,function(t,i){var r="<p>"+t+"："+i+"</p>";$(".products-par-details-box").append(r)}),$(".products-view-title p").text(t.proName),$(".products-price-num").text(t.proPrice),$(".prod-details").html(t.proMsg),$(".prod-buy-now a").attr("href",t.proSrc)},complete:function(){$(function(){0<$(".products-pic-panel").length&&(t.Init(),$("#PicZoom").PicsZoom())});var t={Init:function(){t.PicZoom()},PicZoom:function(){$.fn.PicsZoom=function(i){i=$.extend({SigBox:"#BigPic",Boxwh:[600,353],Img:[1500,883],zoom:9},i);function r(t){for(var i=1;i<arguments.length;i++)t=t.replace("%"+(i-1),arguments[i]);return t}var o=$(this),n=$(i.SigBox),t=i.Img[0],a=i.Img[1],s=t/i.zoom,d=a/i.zoom,l=n.offset().left,p=n.offset().top,e=n.width(),c=n.height(),m=t-i.Boxwh[0],u=a-i.Boxwh[1],f=i.Boxwh[0]+1,h=o.find("#SmallPicList"),g=h.find("ul"),v=h.find("ul li").outerWidth(!0),I=h.find("ul li").outerWidth(),x=v-I,k=h.find("ul li").length,y=(n.find(".move"),"products-pic-pre"),P="products-pic-next";if(o.find("#SmallPicList a").eq(0).addClass("products-pic-cur"),0<$(i.SigBox).length){var b=$(".products-pic-cur").find("img").attr("src");$(i.SigBox).html('<img src="'+b+'" />')}$(i.SigBox).append(r("<div class='move' style='width:%0px;height:%1px'></div>",s,d)),n.mouseover(function(){var t=$(this).find("img").attr("src");$(this).parent().append(r("<div class='b_box' style='width:%0px;height:%1px;left:%2px'><img src='%3' width='%4' height='%5'></div>",i.Boxwh[0],i.Boxwh[1],f,t,i.Img[0],i.Img[1])),$(".move,.b_box").css("display","block")}).mouseout(function(){$(".b_box").remove(),$(".move").css("display","none")}),n.mousemove(function(t){var i,r,o,n;i=t.pageX-l-s/2,r=t.pageY-p-d/2,i<0?i=0:e-s<i&&(i=e-s),r<0?r=0:c-d<r&&(r=c-d),$(".move").css({top:r,left:i}),o=-i/(e-s)*m,n=-r/(c-d)*u,$(".b_box img").css({left:o+"px",top:n+"px"})});var _=function(){var t=parseInt($("#SmallPicList ul").css("marginLeft"));-v<t?g.css("marginLeft","0"):g.animate({marginLeft:t+v+"px"},500)},w=function(){var t=parseInt($("#SmallPicList ul").css("marginLeft"));$("#SmallPicList").width()-t>=k*v-8*(k-1)?$("#SmallPicList").css("paddingRight","0px"):g.animate({marginLeft:-v+t+"px"},500)};if(g.css({width:v*k-x}),o.find("#SmallPicList a").eq(0).addClass("products-pic-cur"),4<k){$("#"+y).show(),$("#"+P).show(),$("#"+y).bind("click",function(){return 4<=k&&_(),!1});var S=!0;$("#"+P).bind("click",function(){if(4<=k){if(!S)return;S=!1,w(),setTimeout(function(){S=!0,$("#"+P).bind("click")},400)}return!1})}else $("#"+y).hide(),$("#"+P).hide();o.find("#SmallPicList a").bind("click",function(){var t=$(this).find("img").attr("src"),i=o.find("#SmallPicList a").index(this);n.find("img").attr("src",t),o.find("#SmallPicList a").removeClass("products-pic-cur").eq(i).addClass("products-pic-cur")})}}}}})}(),$.ajax({url:"http://192.168.100.250/proCategory/showAll/main",tyep:"GET",success:function(s){s.forEach(function(r,t,i){var o=s[t].children,n='<div class="prod-link-room">\n\t\t\t\t\t\t<div class="prod-link-title">\n\t\t\t\t\t\t\t<span class="prod-link-title-word">'+r.proCategoryName+'</span>\n\t\t\t\t\t\t\t<span class="prod-link-mark">\n\t\t\t\t\t\t\t\t<span class="prod-link-minus prod-link-active">-</span>\n\t\t\t\t\t\t\t\t<span class="prod-link-add">+</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="prod-link-list-box">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>';$(".prod-link-box").append(n);var a="";o.forEach(function(t,i){a+='<li class="prod-link-list">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="prod-list.html?typeId='+r.proCategoryId+"&Id="+t.proCategoryId+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>·</span><span class="prod-link-cont">'+t.proCategoryName+"</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>"}),$(".prod-link-room").eq(t).find(".prod-link-list-box ul").append(a)})},complete:function(){$(".prod-link-box .prod-link-room:nth-child(n+5) .prod-link-mark .prod-link-add").addClass("prod-link-active").siblings().removeClass("prod-link-active"),$(".prod-link-title").click(function(){$(this).find(".prod-link-active").removeClass("prod-link-active").siblings().addClass("prod-link-active"),$(this).find(".prod-link-minus").hasClass("prod-link-active")?$(this).siblings(".prod-link-list-box").show(400):$(this).siblings(".prod-link-list-box").hide(400)})}}),function(){$.getUrlParam("typeId");var t=$.getUrlParam("Id");$.ajax({url:"http://192.168.100.250/product/getProByTpyeId/"+t+"/4",type:"GET",success:function(t){t.forEach(function(t,i){var r='<li class="related_prod_list">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="related_prod_list_img">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="prod-view.html?typeId='+t.proPositionId+"&Id="+t.proTypeId+"&fid="+t.proId+'"><img src="'+t.proImgs[0].proImgSrc+'" alt="'+t.proImgs[0].proImgAlt+'"></a>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="related_prod_name">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="prod-view.html?typeId='+t.proPositionId+"&Id="+t.proTypeId+"&fid="+t.proId+'">'+t.proName+'</a>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="related_prod_price">\n\t\t\t\t\t\t\t\t\t\t\t\t\t￥<span class="price-num">'+t.proPrice+"</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>";$(".related_prod_list_box ul").append(r)})}})}(),function(){$.getUrlParam("typeId"),$.getUrlParam("Id");$.ajax({url:"http://192.168.100.250/product/getProRandom/4",type:"GET",success:function(t){t.forEach(function(t,i){var r='<li class="prod_like_list">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="prod_like_list_img">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="prod-view.html?typeId='+t.proPositionId+"&Id="+t.proTypeId+"&fid="+t.proId+'"><img src="'+t.proImgs[0].proImgSrc+'" alt="'+t.proImgs[0].proImgAlt+'"></a>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="prod_like_name">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="prod-view.html?typeId='+t.proPositionId+"&Id="+t.proTypeId+"&fid="+t.proId+'">'+t.proName+'</a>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="prod_like_price">\n\t\t\t\t\t\t\t\t\t\t\t\t\t￥<span class="price-num">'+t.proPrice+"</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>";$(".prod_like_list_box ul").append(r)})}})}();